<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KÄ±zÄ±lay BayraklÄ± Åube Hesaplama</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-content">
                <div class="logo-section">
                    <div class="kizilay-logo">
                        <div class="crescent">â˜ª</div>
                    </div>
                </div>
                <div class="title-section">
                    <h1>KÄ±zÄ±lay BayraklÄ± Åube Hesaplama</h1>
                    <p>Hedef ve gerÃ§ekleÅŸtirme deÄŸerlerini girin, yÃ¼zde ve puanlar otomatik hesaplansÄ±n</p>
                </div>
                <div class="logout-section">
                    <button onclick="logout()" class="logout-btn">ğŸšª Ã‡Ä±kÄ±ÅŸ Yap</button>
                </div>
            </div>
        </header>

        <div class="controls">
            <button id="saveData" class="btn btn-success">Verileri Kaydet</button>
            <button id="exportPDF" class="btn btn-warning">Rapor OluÅŸtur</button>
            <button id="addRow" class="btn btn-primary">Yeni SatÄ±r Ekle</button>
        </div>

        <div class="table-container">
            <table id="calculationTable">
                <thead>
                    <tr>
                        <th>KRÄ°TERLER</th>
                        <th>HEDEF</th>
                        <th>GERÃ‡EKLEÅMELER</th>
                        <th>YÃœZDE - PUAN</th>
                        <th>Ä°ÅLEMLER</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- SatÄ±rlar JavaScript ile eklenecek -->
                </tbody>
            </table>
        </div>

        <div class="summary">
            <div class="summary-card">
                <h3>Toplam Puan</h3>
                <div id="totalScore" class="score">0.00</div>
            </div>
            <div class="summary-card">
                <h3>Ortalama BaÅŸarÄ±</h3>
                <div id="averageSuccess" class="score">0%</div>
            </div>
        </div>

        <!-- Ä°statistikler BÃ¶lÃ¼mÃ¼ -->
        <div class="statistics-section">
            <!-- Net Puan ve YÄ±ldÄ±zlar -->
            <div class="net-score-section">
                <div class="stars-container">
                    <div class="star">â­</div>
                    <div class="star">â­</div>
                    <div class="star">â­</div>
                    <div class="star">â­</div>
                    <div class="star">â­</div>
                </div>
                <div class="net-score-label">Net Puan</div>
                <div class="net-score-gauge">
                    <div class="gauge-fill" id="gaugeFill"></div>
                    <div class="gauge-value" id="netScore">0.00</div>
                </div>
            </div>

            <!-- YeÅŸil Puan KartlarÄ± -->
            <div class="green-score-cards">
                <div class="green-card">
                    <div class="card-label">GÃ¶nÃ¼llÃ¼ YapÄ± PuanÄ±</div>
                    <div class="card-value" id="volunteerScore">0.00</div>
                </div>
                <div class="green-card">
                    <div class="card-label">Hizmet KuruluÅŸu PuanÄ±</div>
                    <div class="card-value" id="serviceScore">0.00</div>
                </div>
            </div>

            <!-- Ä°statistik Grid -->
            <div class="stats-grid">
                <!-- SarÄ± Kartlar -->
                <div class="stats-row yellow-row">
                    <div class="stats-card yellow">
                        <div class="stats-label">Toplam Puan</div>
                        <div class="stats-value" id="statsTotalScore">0.00</div>
                    </div>
                    <div class="stats-card yellow">
                        <div class="stats-label">Ä°l AÄŸÄ±rlÄ±k</div>
                        <div class="stats-value" id="provinceWeight">(BoÅŸ)</div>
                    </div>
                    <div class="stats-card yellow">
                        <div class="stats-label">Ä°l GerÃ§ekleÅŸme</div>
                        <div class="stats-value" id="provinceAchievement">(BoÅŸ)</div>
                    </div>
                </div>

                <!-- Mavi Kartlar -->
                <div class="stats-row blue-row">
                    <div class="stats-card blue">
                        <div class="stats-label">Ä°lÃ§e Ortalama</div>
                        <div class="stats-value" id="districtAverage">(BoÅŸ)</div>
                    </div>
                    <div class="stats-card blue">
                        <div class="stats-label">Ä°lÃ§e AÄŸÄ±rlÄ±k</div>
                        <div class="stats-value" id="districtWeight">(BoÅŸ)</div>
                    </div>
                    <div class="stats-card blue">
                        <div class="stats-label">Ä°lÃ§e GerÃ§ekleÅŸen</div>
                        <div class="stats-value" id="districtAchieved">(BoÅŸ)</div>
                    </div>
                </div>

                <!-- Pembe Kartlar -->
                <div class="stats-row pink-row">
                    <div class="stats-card pink">
                        <div class="stats-label">Temsilcilik Ortalama</div>
                        <div class="stats-value" id="representationAverage">(BoÅŸ)</div>
                    </div>
                    <div class="stats-card pink">
                        <div class="stats-label">Temsilcilik AÄŸÄ±rlÄ±k</div>
                        <div class="stats-value" id="representationWeight">(BoÅŸ)</div>
                    </div>
                    <div class="stats-card pink">
                        <div class="stats-label">Temsilcilik GerÃ§ekleÅŸen</div>
                        <div class="stats-value" id="representationAchieved">(BoÅŸ)</div>
                    </div>
                </div>
            </div>

            <!-- Alt GerÃ§ekleÅŸme PuanÄ± -->
            <div class="achievement-score-section">
                <div class="achievement-score-card">
                    <div class="achievement-label">GerÃ§ekleÅŸme PuanÄ±</div>
                    <div class="achievement-value" id="achievementScore">0.00</div>
                </div>
                         </div>
         </div>
     </div>
     
     <!-- Footer -->
     <footer class="footer">
         <div class="footer-content">
             <p class="signature">Made by <strong>Ekrem Can GÃ¼mÃ¼ÅŸ</strong></p>
         </div>
     </footer>
 
     <script src="script.js"></script>
    
    <!-- Åifre KontrolÃ¼ -->
    <script>
        // Sayfa yÃ¼klendiÄŸinde ÅŸifre kontrolÃ¼ yap
        window.addEventListener('load', function() {
            // GiriÅŸ kontrolÃ¼
            const isAuthenticated = localStorage.getItem('kizilay_authenticated') === 'true';
            const loginTime = localStorage.getItem('kizilay_login_time');
            
            if (!isAuthenticated || !loginTime) {
                window.location.href = 'login.html';
                return;
            }
            
            // 24 saat kontrolÃ¼
            const currentTime = Date.now();
            const hoursSinceLogin = (currentTime - loginTime) / (1000 * 60 * 60);
            
            if (hoursSinceLogin >= 24) {
                // SÃ¼re dolmuÅŸsa giriÅŸ bilgilerini temizle ve login sayfasÄ±na yÃ¶nlendir
                localStorage.removeItem('kizilay_authenticated');
                localStorage.removeItem('kizilay_login_time');
                window.location.href = 'login.html';
                return;
            }
        });
        
        // Ã‡Ä±kÄ±ÅŸ fonksiyonu
        function logout() {
            localStorage.removeItem('kizilay_authenticated');
            localStorage.removeItem('kizilay_login_time');
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>
